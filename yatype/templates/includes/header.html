{% load static %}
<nav class="navbar navbar-light"
     style="background-color: rgb(163,104,213);
     background: linear-gradient(50deg, rgb(132,87,243),
     rgb(57,17,161), rgb(132,87,243));
    margin-block-end: 4em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;">

  <div class="container">
    <a class="navbar-brand" href="{% url 'yatype_app:index' %}" style="color: rgb(196,177,243)">
      <img src="{% static 'img/logo.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">
      <span style="color:red">Ya</span>type
    </a>

    <ul class="nav nav-pills">
      {% with request.resolver_match.view_name as view_name %}
        <li class="nav-item" style="background-color: rgb(234,228,239); margin: 5px; font-weight: normal;">
          <a class="nav-link
             {% if view_name  == 'about:author' %} active {% endif %}"
             href="{% url 'about:author' %}">About author
          </a>
        </li>
        <li class="nav-item" style="background-color: rgb(234,228,239); margin: 5px; font-weight: normal;">
          <a class="nav-link
             {% if view_name  == 'about:tech' %} active {% endif %}"
             href="{% url 'about:tech' %}">Technologies
          </a>
        </li>
        {% if user.is_authenticated %}
          <li class="nav-item" style="background-color: rgb(234,228,239); margin: 5px; font-weight: normal;">
            <a class="nav-link {% if view_name  == 'posts:post_create' %}active{% endif %}"
               href="{% url 'posts:post_create' %}">New post</a>
          </li>
          <li class="nav-item" style="background-color: rgb(234,228,239); margin: 5px; font-weight: normal;">
            <a class="nav-link {% if view_name  == 'users:password_change_form' %}active{% endif %}"
               href="/auth/password_change/">Change password</a>
          </li>
          <li class="nav-item" style="background-color: rgb(234,228,239); margin: 5px; font-weight: normal;">
            <a class="nav-link {% if view_name  == 'admin:logout' %}active{% endif %}"
               href="/auth/logout">Logout</a>
          </li>
          <li class="text-black-50" style="font-weight: bold;">
            User: {{ user.username }}
          </li>
        {% else %}
          <li class="nav-item" style="background-color: rgb(234,228,239); margin: 5px; font-weight: normal;">
            <a class="nav-link
              {% if view_name  == 'users:login' %} active {% endif %}"
               href="{% url 'users:login' %}">Sign in
            </a>
          </li>
          <li class="nav-item" style="background-color: rgb(234,228,239); margin: 5px; font-weight: normal;">
            <a class="nav-link
              {% if view_name  == 'users:signup' %} active {% endif %}"
               href="{% url 'users:signup' %}">Sign up
            </a>
          </li>
        {% endif %}
      {% endwith %}
    </ul>
  </div>
</nav>